<HTML><HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=Windows-1251">
<TITLE>Lab 2.3</TITLE>
</HEAD> 

<BODY BGCOLOR=#aed8e6 
 TEXT="black" LINK="blue" ALINK="red" VLINK="green">

<IMG name = "img">
 <script>
	document.onmousedown = function(e) {

  var DraggableEl = e.target;

  if (!DraggableEl.classList.contains('draggable')) return;

  var shiftX, shiftY;

  DragBeginnig(e.clientX, e.clientY);

  document.onmousemove = function(e) {
    moveAt(e.clientX, e.clientY);
  };

  DraggableEl.onmouseup = function() {
    Dragfinishing();
  };

  function DragBeginnig(clientX, clientY) {
    shiftX = clientX - DraggableEl.getBoundingClientRect().left; 
    shiftY = clientY - DraggableEl.getBoundingClientRect().top;
    DraggableEl.style.position = 'fixed';
    document.body.appendChild(DraggableEl);
    moveAt(clientX, clientY);
  };

  function Dragfinishing() {
    DraggableEl.style.top = parseInt(DraggableEl.style.top) + pageYOffset + 'px';
    DraggableEl.style.position = 'absolute';
    document.onmousemove = null;
    DraggableEl.onmouseup = null;
  }

  function moveAt(clientX, clientY) {
    var newX = clientX - shiftX;
    var newY = clientY - shiftY;
    DraggableEl.style.left = newX + 'px';
    DraggableEl.style.top = newY + 'px';
  }
  return false;
}
</script>

  <h2 align = center>Собери мозаику!</h2>
  <p>Перемещая картинки мышкой нужно собрать рисунок.</p>

  <img src="r1.gif" class="draggable">
  <img src="r2.gif" class="draggable">
  <br>
  <img src="r3.gif" class="draggable">
  <img src="r4.gif" class="draggable">

</BODY>
</HTML>

